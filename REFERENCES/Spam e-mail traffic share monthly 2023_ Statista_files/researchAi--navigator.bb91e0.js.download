(self.webpackChunk=self.webpackChunk||[]).push([[2019],{7858:function(){const e="researchAI_lastSources",t=JSON.parse(window.localStorage.getItem(e)),n=t?.url,r=t?.fullText,o=t?.navigatorChunks??{};let a=t?.currentIndex??-1;const c=document.getElementById("researchContentNavigator");function i(n){a=n;const r={...t,currentIndex:n};window.localStorage.setItem(e,JSON.stringify(r))}function l(e,t){c.classList.add("contentNavigator--loading"),document.getElementById("previousItem").disabled=!0,document.getElementById("nextItem").disabled=!0,i(t),window.location.href=e}function s(){localStorage.removeItem(e),c.style.display="none"}function u(){c.classList.toggle("contentNavigator--minimized")}function d(n){n.preventDefault(),localStorage.setItem(e,JSON.stringify({...t,currentIndex:parseInt(n.target.dataset.index)})),window.location=n.target.href}!function(){if(null!==t&&Object.values(o).length){const e=(e=>{const t=new URL(window.location.href).pathname.replace(/\/+$/,"");for(const[n,{url:r}]of Object.entries(e))if(t===(r.startsWith("http")?new URL(r).pathname:r).replace(/\/+$/,""))return n;return-1})(o);e>-1&&(a<0&&i(e),c.removeAttribute("hidden"),function(){const e="contentNavigator__text--highlight",t=c.querySelector("[data-content-navigator-text-wrapper]"),n=c.querySelector("[data-content-navigator-text]"),i=o[a].texts;n.innerHTML=i.reduce(((t,n)=>{const r=t.split(n);return`${r[0]}<span class="${e}">${n}</span>${r[1]}`}),r);const l=c.querySelector(`.${e}`);if(l&&t){const e=l?.getBoundingClientRect()?.top-n?.getBoundingClientRect()?.top;t.scrollTop=e}}(),c.querySelector("[data-content-navigator-current-index]").innerHTML=a,c.querySelector("[data-content-navigator-total-steps]").innerHTML=Object.keys(o).length,function(){const e=document.getElementById("previousItem"),t=document.getElementById("nextItem"),n=a>0?o[a-1]:null,r=parseInt(a)<=Object.keys(o).length?o[parseInt(a)+1]:null;n?(e.title+=`: ${n.texts}`,e.addEventListener("click",(e=>{e.preventDefault,l(n.url,parseInt(a)-1)}))):e.disabled=!0,r?(t.title+=`: ${r.texts}`,t.addEventListener("click",(e=>{e.preventDefault,l(r.url,parseInt(a)+1)}))):t.disabled=!0}(),c.querySelector("[data-content-navigator-backlink]").href=n,document.getElementById("closeContentNavigator").addEventListener("click",s),document.getElementById("minimizeContentNavigator").addEventListener("click",u),function(e){if(HTMLScriptElement.supports&&HTMLScriptElement.supports("speculationrules")){const t=document.createElement("script");t.type="speculationrules";const n={prerender:[{source:"list",urls:e}],eagerness:"eager"};t.textContent=JSON.stringify(n),document.body.append(t)}}(Object.values(o).map((e=>e.url))??[]),document.querySelectorAll(".researchAiContentNavigatorSourceNumber").forEach((e=>{e.addEventListener("click",d)})))}}()}},function(e){e.O(0,[4121],(function(){return e(e.s=7858)})),e.O()}]);
//# sourceMappingURL=researchAi--navigator.bb91e0.js.map